---
layout: post
title:  "Test"
date:   2018-05-22 00:58:43 -0700
categories: jekyll update
---

$$
\begin{align}
	\frac{dL}{dx_{a,b}} &= \sum_i^{k} \sum_j^{n} \frac{dL}{dy_{i,j}} \frac{dy_{i,j}}{dx_{a,b}} 
	\tag{summation for all connected intermediate variables} \\
	&= \vec{\frac{dL}{dy}_{a*}} \cdot \vec{W_{b*}} \tag{dot product of row a of $\frac{dL}{dy}$ and row b of W} \\
	\frac{dL}{dx} &=
	\begin{bmatrix}
		\frac{dL}{dx_{1,1}} & \frac{dL}{dx_{1,2}} & \dots  & \frac{dL}{dx_{1,m}} \\
		\frac{dL}{dx_{2,1}} & \frac{dL}{dx_{2,2}} & \dots  & \frac{dL}{dx_{2,m}} \\
		\vdots & \vdots & \ddots & \vdots \\
		\frac{dL}{dx_{k,1}} & \frac{dL}{dx_{k,2}} & \dots  & \frac{dL}{dx_{k,m}}
	\end{bmatrix} \tag{$\frac{dL}{dx} \in R^{k \times m}$} \\
	&=
	\begin{bmatrix}
		\vec{\frac{dL}{dy}_{1*}} \cdot \vec{W_{1*}} & \vec{\frac{dL}{dy}_{1*}} \cdot \vec{W_{2*}} & \dots  & \vec{\frac{dL}{dy}_{1*}} \cdot \vec{W_{m*}} \\
		\vec{\frac{dL}{dy}_{2*}} \cdot \vec{W_{1*}} & \vec{\frac{dL}{dy}_{2*}} \cdot \vec{W_{2*}} & \dots  & \vec{\frac{dL}{dy}_{2*}} \cdot \vec{W_{m*}} \\
		\vdots & \vdots & \ddots & \vdots \\
		\vec{\frac{dL}{dy}_{k*}} \cdot \vec{W_{1*}} & \vec{\frac{dL}{dy}_{k*}} \cdot \vec{W_{2*}} & \dots  & \vec{\frac{dL}{dy}_{k*}} \cdot \vec{W_{m*}}
	\end{bmatrix} \tag{subsitution} \\
	&=
	\begin{bmatrix}
		\vec{\frac{dL}{dy}_{1*}} \\
		\vec{\frac{dL}{dy}_{2*}} \\
		\vdots \\
		\vec{\frac{dL}{dy}_{k*}}
	\end{bmatrix}
	\begin{bmatrix}
		\vec{W_{1*}} & \vec{W_{2*}} & \dots & \vec{W_{m*}} 
	\end{bmatrix}
	= \frac{dL}{dy} W^T \tag{$\frac{dL}{dy} \in R^{k \times n}, W^T \in R^{n \times m}$} \\
	\frac{dL}{dW} &= x^T \frac{dL}{dy} \tag{similarly} \\
	\frac{dL}{db} &= 
	\begin{bmatrix}
		sum(\vec{\frac{dL}{dy}_{*1}}) & sum(\vec{\frac{dL}{dy}_{*2}}) & \dots & sum(\vec{\frac{dL}{dy}_{*m}})
	\end{bmatrix}
	\tag{$sum(\vec{\frac{dL}{dy}_{*a}}) = \sum_i^{k} \frac{dL}{dy_{i, a}}$}
\end{align}
$$
